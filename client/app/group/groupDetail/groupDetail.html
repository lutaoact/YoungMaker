<div class="container group-detail">
  <div class="row">
    <div class="col-md-9">
      <div ui-view class="fadeIn"></div>
    </div>
    <div class="col-md-3">
      <div class="panel panel-card group-detail-tile clearfix">
        <div class="col-md-12 clearfix text-center">
          <div class="group-logo" ng-src="{{group.logo}}"></div>
          <div class="group-body">
            <h4 class="group-name">
              {{group.name}}
            </h4>

            <p class="group-info text-muted">
              {{group.info}}
            </p>

            <p>创建于{{group.created | moment: 'calendar'}}</p>

            <p>组长：<a ui-sref="user.home({userId:group.creator._id})" target="{{group.creator._id}}">{{group.creator.name}}</a>
            </p>

            <div ng-switch="getRole()" class="text-center">
              <div ng-switch-when='creator'>
                <button class="btn btn-sm btn-outline btn-primary" ng-click="editGroupInfo()">
                  修改小组信息
                </button>
              </div>
              <div ng-switch-when='member'>
                <button class="btn btn-sm btn-outline btn-joined"
                        ng-click="leaveGroup()"
                        ng-init="text='已加入'" ng-mouseenter="text='退出小组'" ng-mouseleave="text='已加入'">
                  {{text}}
                </button>
              </div>
              <div ng-switch-default>
                <button class="btn btn-sm btn-outline btn-join" login-window login-success="joinGroup()">
                  加入
                </button>
              </div>
            </div>
          </div>
          <hr>
          <div class="clearfix">
            <span class="group-stat text-overflow pull-left">
              {{group.members.length}}个成员
            </span>
            <span class="pull-right"><a href ui-sref="groupDetail.memberList">
              全部成员</a>
            </span>
          </div>
          <div class="group-members">
            <div ng-repeat="member in groupMembers | limitTo:15" class="group-member-list">
              <div class="avatar-md"
                   tooltip="{{member.name}}"
                   ng-src="{{member.avatar}}"
                   ui-sref="user.home({userId: member._id})"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>