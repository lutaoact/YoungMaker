<div class="user-tile-md">

  <!--用户基本信息-->
  <a class="user-name" ui-sref="user.home({userId: user._id})">
    <div class="avatar-sm inline-block-middle"
         ng-src="{{user.avatar|trusted:'url'}}"
         style="cursor: pointer"
         ui-sref="user.home({userId:user._id})"></div>
    {{user.name}}
  </a>

  <!--关注、编辑个人信息按钮-->
  <a ng-if="me._id == user._id"
     ui-sref="settings.profile"
     class="btn btn-sm btn-primary pull-right">
    <i class="fa fa-pencil"></i>&nbsp;编辑
  </a>
  <button login-window
          ng-if="me._id != user._id"
          login-success="toggleFollow()"
          ng-class="{'btn-primary':follow}"
          class="btn btn-sm btn-default follow-btn pull-right">
    <span ng-if="!follow" tooltip="点击关注该用户">
      <i class="fa fa-plus"></i>&nbsp;关注
    </span>
    <span ng-if="follow" tooltip="点击取消关注">
      <i class="fa fa-check-circle"></i>&nbsp;已关注
    </span>
  </button>

  <!--用户关注数、粉丝，文章、趣课数-->
  <div class="user-states clearfix">
    <div class="text-muted">{{user.info}}</div>
    <div class="state">
      关注&nbsp;
      <a href
         ui-sref-active="active"
         ui-sref="user.following({userId:user._id})">
        {{userStates.numFollowings}}
      </a>
    </div>
    <div class="state">
      粉丝&nbsp;
      <a href
         ui-sref-active="active"
         ui-sref="user.followers({userId:user._id})">
        {{userStates.numFollowers}}
      </a>
    </div>
    <div class="state">
      趣课&nbsp;
      <a href
         ui-sref-active="active"
         ui-sref="user.courses({userId:user._id})">
        {{userStates.numCourses}}
      </a>
    </div>
    <div class="state">
      文章&nbsp;
      <a href
         ui-sref-active="active"
         ui-sref="user.articles({userId:user._id})">
        {{userStates.numArticles}}
      </a>
    </div>
  </div>
</div>
