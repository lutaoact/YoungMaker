<div class="navbar navbar-main"
     ng-controller="NavbarCtrl">

  <div class="container"
       click-outside="switchMenu(true)"
       is-active="!viewState.isCollapsed"
       is-visible="root.navbarVisible"
       adjust-offset-bottom="-50">

    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button class="navbar-toggle collapsed"
              ng-click="switchMenu(!viewState.isCollapsed)"
              type="button">
        <span class="sr-only">戳我</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">STEAM</a>
    </div>

    <div class="navbar-collapse collapse"
         collapse="viewState.isCollapsed">
      <ul class="nav navbar-nav navbar-left">
        <li ng-class="{active:isActive('^course')}">
          <a ui-sref="courseList">趣课</a>
        </li>
        <li ng-class="{active:isActive('^group')}">
          <a ui-sref="groupList">小组</a>
        </li>
      </ul>

      <ul ng-if="!isLoggedIn()" class="nav navbar-nav navbar-right">
        <li >
          <button type="button"
                  class="login-btn btn btn-sm btn-warning btn-outline navbar-btn"
                  login-window mode="signup">注册</button>
        </li>
        <li>
          <button type="button"
                  class="login-btn btn btn-sm btn-primary btn-outline navbar-btn"
                  login-window>登录</button>
        </li>
      </ul>
      <ul ng-if="isLoggedIn()" class="nav navbar-nav navbar-right">
        <li>
          <a ui-sref="user.home({userId:me._id})" class="clearfix">
            <span class="avatar-xs navbar-avatar pull-left"
                  ng-src="{{me.avatar|trusted:'url'}}">
            </span>
            <span class="user-name pull-left">{{me.name}}</span>
          </a>
        </li>
        <li>
          <a ui-sref="notices.unread">
            <i class="fa fa-bell" tooltip="消息" tooltip-placement="bottom"></i>
            <span class="badge"
                  ng-show="getMsgCount()">
              {{getMsgCount()||'0'}}
            </span>
          </a>
        </li>
        <li>
          <a a ui-sref="user.settings">
            <i class="fa fa-gear" tooltip="设置" tooltip-placement="bottom"></i>
          </a>
        </li>
        <li>
          <a href ng-click="logout()"
             data-method="delete"
             rel="nofollow">
            <i class="fa fa-sign-out" tooltip="登出" tooltip-placement="bottom"></i>
          </a>
        </li>
      </ul>

    </div>

  </div>

  <div class="nav-loading" ng-show="$loading"></div>
</div>
